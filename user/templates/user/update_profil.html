{% extends 'main.html' %}
{% load widget_tweaks %}
{% load static %}

{% block styleshets %}
<link rel="stylesheet" href="{% static 'css/contact/contact.css' %}">
{% endblock %}

{% block content %}
<section class="container text-center pt-5 mt-5">
    <h1 class="mt-5 animate__animated  animate__slideInRight">Mettre à jour mes infos</h1>
    <div class="mx-auto py-5 col-md-6 col-sm-8 animate__animated  animate__slideInLeft">
        <!--BACK BUTTON-->
        <div class="pb-3 text-start">
            <a href="{% url 'user:user_home' request.user.username %}" class="btn btn-outline-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-back-up" width="32"
                     height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffbf00" fill="none"
                     stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                    <path d="M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"/>
                </svg>
                retour profil
            </a>
        </div>
        <!--MESSAGES SUCCESS/ERROR-->
        {% for message in messages %}
        {% if message.tags == 'success' %}
        <div class="alert alert-success alert-dismissible d-flex justify-content-center" role="alert">
            <div>
                <img src="{% static 'images/logo.png' %}" alt="logo entreprise"
                     style="width:60px;border-radius: 50%;">
            </div>
            <div>
                <a href="{% url 'user:update_profil' request.user.id %}" class="close" data-dismiss="alert"
                   aria-label="close">&times;</a>
                {{ message|safe|escape }}
            </div>
        </div>
        {% elif message.tags == 'error' %}
        <div class="alert alert-danger alert-dismissible d-flex justify-content-center" role="alert">
            <div>
                <img src="{% static 'images/logo.png' %}" alt="logo entreprise"
                     style="width:60px;border-radius: 50%;">
            </div>
            <div>
                <a href="{% url 'user:update_profil' request.user.id %}" class="close" data-dismiss="alert"
                   aria-label="close">&times;</a>
                {{ message|safe|escape }}
            </div>
        </div>
        {% endif %}
        {% endfor %}
        <!--FORMULAIRE-->
        <form method="POST">
            {% csrf_token %}
            <div class="text-start">
                <div class="form-group mt-3">
                    <label>Nom complet</label>
                    {{ form.first_name.errors }}
                    {% render_field form.first_name class="form-control" placeholder="Nom complet" type="text" %}
                </div>
                <div class="form-group mt-3">
                    <label>Email</label>
                    {{ form.email.errors }}
                    {% render_field form.email class="form-control" placeholder="Nom complet" type="email" %}
                </div>
                <div class="form-group mt-3">
                </div>
                <div>
                    <a href="{% url 'my_account:password_change' %}">Changer Mot de passe?</a>
                </div>
            </div>
            <!--button-->
            <button type="submit" value="Submit" class="btn btn-warning mt-3 w-100">Mettre à jour</button>
        </form>
    </div>
</section>
{% endblock %}

